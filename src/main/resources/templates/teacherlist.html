<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <div th:replace="fragrams/header :: header" />
  <body>
    <div>
      <div th:replace="fragrams/onlynav :: onlynav" />
    </div>
    <div class="container">
      <h2>List of teachers</h2>
      <div class="row">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">First Name</th>
              <th scope="col">Last Name</th>
              <th scope="col">Email</th>
              <th scope="col">Username</th>
              <th scope="col">Course</th>
              <th scope="col">Actions</th>
              <th scope="col">Add course</th>
            </tr>
          </thead>
          <tbody>
            <tr th:each="teacher: ${allteachers}">
              <th scope="row" th:text="${teacher.id}"></th>
              <td th:text="${teacher.firstNameT}"></td>
              <td th:text="${teacher.lastNameT}"></td>
              <td th:text="${teacher.email}"></td>
              <td th:text="${teacher.username}"></td>
            
              <td>
                <div th:each="course: ${teacher.courses}">
                  <span th:text="${course}" class="mx-1"></span>
                </div>
              </td>

              <td>
                <a
                  th:href="@{/teachers/showUpdateForm(id=${teacher.id})}"
                  class="btn btn-info"
                  >Update</a
                >
                <a
                  th:href="@{/teachers/deleteTeacher(id=${teacher.id})}"
                  class="btn btn-danger ml-2"
                  >Delete</a
                >
              </td>
              <td>
                <form
                  th:action="@{'/courses/'+${teacher.id}+'/savecoursestoteacher'}"
                  autocomplete="off"
                  method="post"
                >
                  <div class="input-group mb-3">
                    <input
                      list="Course"
                      id="courses-choice"
                      name="courses-choice"
                      placeholder="Type Course Name"
                      aria-label="Type Course Name"
                      aria-describedby="button-addon2"
                      required
                    />
                    <button
                      class="btn btn-outline-secondary"
                      type="submit"
                      id="button-addon2"
                    >
                      Add 
                    </button>
                    <datalist id="coursess">
                      <span
                        th:each="course: ${teacherNotRegisteredToThisCourses}" >
                        <option
                          th:value="${course.courseName}"
                          th:text="${course.courseName}"
                          th:id="${course.id}"
                        ></option
                      ></span>
                    </datalist>
                  </div>
                </form>
                <form
                th:action="@{'/courses/'+${teacher.id}+'/deleteCourseFromTeacher'}"
                autocomplete="off"
                method="post"
              >
                <div class="input-group mb-3">
                  <input
                    name="course"
                    placeholder="Type Course Name"
                    aria-label="Type Course Name"
                    aria-describedby="button-addon2"
                    required
                  />
                  <button
                    class="btn btn-outline-danger"
                    type="submit"
                    id="button-addon2"
                  >
                    Delete
                  </button>
                  </div>
                </form>
              </td>
            </tr>

          </tbody>
        </table>
        <span
          class="text-success"
          style="background-color: red"
          th:if="${message1}"
          th:text="${message1}"
        ></span>

        <span
          class="text-success"
          style="background-color: blanchedalmond"
          th:if="${message}"
          th:text="${message}"
        ></span>
      </div>
    </div>

    <div th:replace="fragrams/footer :: footer" />
  </body>
</html>
